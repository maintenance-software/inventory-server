-- By default this file is used by `persistFileWith` in Model.hs (which is imported by Foundation.hs)
-- Syntax for this file here: https://github.com/yesodweb/persistent/blob/master/docs/Persistent-entity-syntax.md


User json sql=t_user
    Id sql=user_id
    username Text
    email Text
    password Text
    active Bool
    UniqueUserUsername username
    UniqueUserEmail email
    deriving Typeable Show

Role json sql=t_role
    Id sql=role_id
    name Text
    description Text Maybe
    active Bool
    deriving Show

UserRole json sql=t_user_role
    Id sql=user_role_id
    userId UserId
    roleId RoleId
    deriving Show

Privilege json sql=t_privilege
    Id sql=privilege_id
    name Text
    description Text Maybe
    active Bool
    deriving Show

RolePrivilege json sql=t_role_privilege
    Id sql=role_privilege_id
    roleId RoleId
    privilegeId PrivilegeId
    deriving Show


UserPrivilege json sql=t_user_privilege
    Id sql=user_privilege_id
    userId UserId
    privilegeId PrivilegeId
    deriving Show

Person json sql=t_person
    Id sql=person_id
    firstName Text
    lastName Text
    documentType Text
    documentId Text
    userId UserId Maybe
    UniquePersonDocumentId documentId
    deriving Typeable Show

Address json sql=t_address
    Id sql=address_id
    street1 Text
    street2 Text
    street3 Text
    zip Text
    city Text
    state Text
    country Text
    personId PersonId
    UniqueAddressPersonId personId
    deriving Typeable Show

ContactInfo json sql=t_contact_info
    Id sql=contact_info_id
    contactType Text
    contact Text
    personId PersonId
    deriving Typeable Show

Item json sql=t_item
    Id sql=item_id
    name Text
    unit Text
    defaultPrice Double
    description Text
    code Text
    categoryId CategoryId
    deriving Typeable Show

Category json sql=t_category
    Id sql=category_id
    name Text
    description Text
    deriving Typeable Show

InventoryItem json sql=t_inventory_item
    Id sql=inventory_item_id
    level Int
    categoryId CategoryId
    deriving Typeable Show

ItemSupplier json sql=t_item_supplier
    Id sql=item_supplier_id
    orderQuantity Int
    standardPrice Double
    suppliedDate UTCTime
    deliveredLeadTime Int
    status Text
    inventoryItemId InventoryItemId
    supplierId SupplierId
    emitterId UserId
    deriving Typeable Show

Supplier json sql=t_supplier
    Id sql=supplier_id
    name Text
    webpage Text
    contactId PersonId
    deriving Typeable Show

-- User
--     ident Text
--     password Text Maybe
--     UniqueUser ident
--     deriving Typeable
-- Email
--     email Text
--     userId UserId Maybe
--     verkey Text Maybe
--     UniqueEmail email

Comment json -- Adding "json" causes ToJSON and FromJSON instances to be derived.
    message Text
    userId UserId Maybe
    deriving Eq
    deriving Show
